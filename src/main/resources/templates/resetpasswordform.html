<script type="text/javascript">
    function checkPasswordMatch() {

        if (document.getElementById("password2").value != document.getElementById("password").value) {
            document.getElementById("msg").innerText = "Passwords do not match!";
            return false;
        }
        document.forms[0].submit();
    }
</script>
<div><h3 id="msg" class="text-danger">&nbsp;</h3></div>
<div th:if="${error != null}">
    <h3 id="err" class="text-danger">[[${error}]]</h3>
</div>
<div th:if="${message != null}">
    <h3 class="text-warning">[[${message}]]</h3>
</div>

<form th:action="@{/resetpwd}" method="post" name="pwdform" style="max-width: 350px; margin: 0 auto;"
    itemref="user" itemtype="User">
    <div>
        <h2>Reset Your Password</h2>
    </div>
    <div class="border border-secondary rounded p-3">
        <div>
            <p>
                <input type="email" name="email" class="form-control" placeholder="Enter your e-mail"
                       required autofocus itemref="user.email" />
            </p>
            <p>
                <input type="password" name="password" id="password" class="form-control"
                       placeholder="Enter new password" required autofocus/>
            </p>
            <p>
                <input type="password" name="password2" id="password2" class="form-control"
                       placeholder="Confirm new password"
                       required/>
            </p>
            <p class="text-center">
                <input type="button" value="Change Password" class="btn btn-primary" onclick="checkPasswordMatch();"/>
            </p>
        </div>
    </div>
</form>